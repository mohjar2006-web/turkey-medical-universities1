<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏููู ุงูุฌุงูุนุงุช ุงูุญููููุฉ ุงูุชุฑููุฉ - ุทุจ ุจุดุฑู 2025</title>
    
    <!-- Fonts: Cairo for professional Arabic typography -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Palette Definition: Vibrant Turquoise & Deep Ocean
         Primary: #00897B (Teal)
         Secondary: #0277BD (Ocean Blue)
         Accent: #FFB300 (Amber/Gold)
         Background: #F0F4F8
         Text: #263238
    -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Cairo', 'sans-serif'],
                    },
                    colors: {
                        primary: '#00897B', // Vibrant Teal
                        secondary: '#0277BD', // Ocean Blue
                        accent: '#FFB300', // Gold
                        dark: '#263238',
                        light: '#F0F4F8'
                    }
                }
            }
        }
    </script>

    <style>
        /* Chart Container Strict Styling */
        .chart-container {
            position: relative;
            width: 100%;
            height: 400px; /* Base height */
            max-height: 450px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
        
        /* Custom Scrollbar for the Table */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #00897B; 
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #00695C; 
        }

        /* Card Hover Effects */
        .stat-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
    </style>

    <!-- 
    NO MERMAID JS USED
    NO SVG USED (All visualizations via Chart.js Canvas or Unicode)
    Source Material Integration: Data derived from analysis of Turkish Government University Medical Faculties structure (YรK)
    Narrative Plan: Intro -> Key Stats -> City Distribution -> Rank vs Opportunity -> Detailed Data -> Methodology
    -->
</head>
<body class="bg-light text-dark font-sans leading-relaxed selection:bg-primary selection:text-white">

    <!-- Header Section -->
    <header class="bg-gradient-to-l from-primary to-secondary text-white py-12 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-6xl font-black mb-4">ุฏุฑุงุณุฉ ุงูุทุจ ูู ุชุฑููุง 2025</h1>
            <p class="text-xl md:text-2xl font-light opacity-90 mb-6">ุชุญููู ุดุงูู ูู 80+ ุฌุงูุนุฉ ุญููููุฉ: ุงูุชุฑุชูุจุ ุงูููุงุนุฏุ ููุณุจ ุงููุจูู</p>
            <div class="inline-block bg-white/20 backdrop-blur-sm px-6 py-2 rounded-full border border-white/30">
                <span class="font-bold">๐ฏ ุงููุตุฏุฑ:</span> ุจูุงูุงุช ุงูุชุนููู ุงูุนุงูู ููุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฃูุงุฏููู
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 space-y-12">

        <!-- Section 1: Introduction & Key KPIs -->
        <!-- Goal: Inform -->
        <section>
            <div class="max-w-4xl mx-auto text-center mb-10">
                <h2 class="text-3xl font-bold text-secondary mb-4">ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงููุทููุฉ</h2>
                <p class="text-lg text-gray-700">
                    ูุนูุณ ูุทุงุน ุงูุชุนููู ุงูุทุจู ุงูุญูููู ูู ุชุฑููุง ุทููุญุงู ุงุณุชุฑุงุชูุฌูุงู ูุชูุฏูู ุฌูุฏุฉ ุชุนููููุฉ ุนุงูููุฉ ุจุชูุงููู ุชูุงูุณูุฉ. 
                    ุชุฑุชูุฒ ุงูุฌุงูุนุงุช ุงูุญููููุฉ ุนูู "ุงูุนูู ุงูุณุฑูุฑู" ูู ูุณุชุดููุงุชูุง ุงูุถุฎูุฉ. ูููุง ููู ุฃุจุฑุฒ ุงููุคุดุฑุงุช ููุฐุง ุงูุนุงู:
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- KPI 1 -->
                <div class="stat-card bg-white p-6 rounded-xl shadow border-r-4 border-primary">
                    <div class="text-4xl mb-2">๐๏ธ</div>
                    <div class="text-3xl font-bold text-dark">82</div>
                    <div class="text-sm text-gray-500 font-semibold uppercase">ุฌุงูุนุฉ ุญููููุฉ</div>
                    <p class="text-xs text-gray-400 mt-2">ุชููุฑ ุงูุทุจ ุงูุจุดุฑู (ุชุฑูู)</p>
                </div>
                <!-- KPI 2 -->
                <div class="stat-card bg-white p-6 rounded-xl shadow border-r-4 border-accent">
                    <div class="text-4xl mb-2">๐บ</div>
                    <div class="text-3xl font-bold text-dark">~3,450</div>
                    <div class="text-sm text-gray-500 font-semibold uppercase">ููุนุฏ ููุฃุฌุงูุจ</div>
                    <p class="text-xs text-gray-400 mt-2">ุฅุฌูุงูู ุงูููุชุง ุงููุชุงุญุฉ (ุชูุฏูุฑู)</p>
                </div>
                <!-- KPI 3 -->
                <div class="stat-card bg-white p-6 rounded-xl shadow border-r-4 border-secondary">
                    <div class="text-4xl mb-2">๐</div>
                    <div class="text-3xl font-bold text-dark">Top 500</div>
                    <div class="text-sm text-gray-500 font-semibold uppercase">ุงูุชุตููู ุงูุนุงููู</div>
                    <p class="text-xs text-gray-400 mt-2">ุชูุงุฌุฏ 5 ุฌุงูุนุงุช ุชุฑููุฉ ูู ุงูููุฉ</p>
                </div>
                <!-- KPI 4 -->
                <div class="stat-card bg-white p-6 rounded-xl shadow border-r-4 border-red-500">
                    <div class="text-4xl mb-2">๐</div>
                    <div class="text-3xl font-bold text-dark">2.8%</div>
                    <div class="text-sm text-gray-500 font-semibold uppercase">ูุนุฏู ุงููุจูู</div>
                    <p class="text-xs text-gray-400 mt-2">ูุชูุณุท ุงูุชูุงูุณ ูู ุงูุฌุงูุนุงุช ุงููุจุฑู</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Geographic Distribution (Bar Chart) -->
        <!-- Goal: Organize / Compare -->
        <section class="bg-white p-6 rounded-2xl shadow-lg">
            <div class="mb-6 border-b border-gray-100 pb-4">
                <h3 class="text-2xl font-bold text-primary flex items-center gap-2">
                    ๐ ุงูุชูุฒูุน ุงูุฌุบุฑุงูู ููููุงุนุฏ ุงูุทุจูุฉ
                </h3>
                <p class="text-gray-600 mt-2">
                    ุชุณุชุญูุฐ ุงููุฏู ุงููุจุฑู (ุฅุณุทูุจููุ ุฃููุฑุฉุ ุฅุฒููุฑ) ุนูู ุงููุตูุจ ุงูุฃูุจุฑ ูู ุฌูุฏุฉ ุงูุชุนูููุ ูููู ุงูุฌุงูุนุงุช ูู ููุงุทู ุงูุฃูุงุถูู ุชููุฑ ูุฑุตุงู ุฐูุจูุฉ ุจูุนุฏูุงุช ูุจูู ุฃุนูู ูููุงูุณุฉ ุฃูู.
                </p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2">
                    <div class="chart-container">
                        <canvas id="cityDistributionChart"></canvas>
                    </div>
                </div>
                <div class="flex flex-col justify-center space-y-4 text-sm text-gray-600 bg-blue-50 p-6 rounded-xl">
                    <p><strong>๐ก ุชุญููู ุงูุจูุงูุงุช:</strong></p>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>ุฅุณุทูุจูู:</strong> ุงูุชูุงูุณ ุงูุฃุนููุ ุชุถู ุฃุนุฑู ุงูุฌุงูุนุงุช (ุฌุฑุงุญ ุจุงุดุงุ ุฅุณุทูุจูู).</li>
                        <li><strong>ุฃููุฑุฉ:</strong> ูุฑูุฒ ุงูุซูู ุงูุฃูุงุฏููู (ูุงุฌู ุชุจูุ ุฃููุฑุฉ).</li>
                        <li><strong>ุฅุฒููุฑ:</strong> ุชูุงุฒู ููุชุงุฒ ุจูู ุงููุนูุดุฉ ูุฌูุฏุฉ ุงูุชุนููู (ุฅูุฌุฉ).</li>
                        <li><strong>ูุฑุต ุฎููุฉ:</strong> ูุฏู ูุซู (ุบุงุฒู ุนูุชุงุจุ ุณุงูุณููุ ุทุฑุงุจุฒูู) ุชููุฑ ููุงุนุฏ ูุซูุฑุฉ ุจุชูุงูุณ ุฃูู ูุณุจูุงู.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 3: Rank vs. Acceptance Rate (Scatter Plot) -->
        <!-- Goal: Relationships -->
        <section class="bg-white p-6 rounded-2xl shadow-lg">
            <div class="mb-6">
                <h3 class="text-2xl font-bold text-secondary flex items-center gap-2">
                    โ๏ธ ูุนุงุฏูุฉ ุงููุจูู: ุงูุชุฑุชูุจ ุงููุญูู ููุงุจู ูุณุจุฉ ุงููุจูู
                </h3>
                <p class="text-gray-600 mt-2">
                    ูุณุงุนุฏู ูุฐุง ุงูุฑุณู ุงูุจูุงูู ูู ุชุญุฏูุฏ ุงุณุชุฑุงุชูุฌูุฉ ุงูุชูุฏูู. ุงูุฌุงูุนุงุช ูู ุงูุฒุงููุฉ ุงูุณูููุฉ ุงููููู ูู "ุงููุฑุต ุงูุฐูุจูุฉ" (ุชุฑุชูุจ ุฌูุฏ + ูุจูู ูุนููู)ุ ุจูููุง ุงูุฒุงููุฉ ุงููุณุฑู ุงูุนููุง ุชูุซู "ููุงุน ุงููุฎุจุฉ".
                    <br><span class="text-xs text-gray-400">* ุญุฌู ุงูุฏุงุฆุฑุฉ ููุซู ุนุฏุฏ ุงูููุงุนุฏ ุงููุชุงุญุฉ.</span>
                </p>
            </div>

            <div class="chart-container" style="height: 500px; max-height: 600px;">
                <canvas id="scatterRankVsRate"></canvas>
            </div>
        </section>

        <!-- Section 4: The Comprehensive Data Table -->
        <!-- Goal: Look up / Detail -->
        <section>
            <div class="flex flex-col md:flex-row justify-between items-end mb-4 gap-4">
                <div>
                    <h3 class="text-2xl font-bold text-dark">๐ ุงููุงุฆูุฉ ุงูุดุงููุฉ ููุฌุงูุนุงุช (80+ ุฌุงูุนุฉ)</h3>
                    <p class="text-gray-500 text-sm">ุชู ุชุฑุชูุจ ุงูุฌุงูุนุงุช ุจูุงุกู ุนูู ุงูุชุฑุชูุจ ุงููุญูู ูุฌูุฏุฉ ุงูุชุนููู.</p>
                </div>
                <div class="w-full md:w-1/3">
                    <input type="text" id="tableSearch" placeholder="๐ ุงุจุญุซ ุนู ุงุณู ุงูุฌุงูุนุฉ ุฃู ุงููุฏููุฉ..." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:outline-none transition-shadow">
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
                <div class="overflow-x-auto custom-scrollbar" style="max-height: 800px;">
                    <table class="w-full text-right" id="uniTable">
                        <thead class="bg-gray-100 sticky top-0 z-10 text-gray-600 uppercase text-sm font-bold">
                            <tr>
                                <th class="p-4 whitespace-nowrap"># ุงููุญูู</th>
                                <th class="p-4">ุงูุฌุงูุนุฉ</th>
                                <th class="p-4">ุงููุฏููุฉ</th>
                                <th class="p-4 text-center">ุงูููุงุนุฏ (ุฃุฌุงูุจ)</th>
                                <th class="p-4 text-center">ุตุนูุจุฉ ุงููุจูู</th>
                                <th class="p-4 text-center">ุงูุชุฑุชูุจ ุงูุนุงููู (URAP)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100 text-sm" id="tableBody">
                            <!-- Rows will be populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 py-12 border-t border-gray-200 mt-12">
            <p class="mb-2">ยฉ 2025 ุชุญููู ุงูุชุนููู ุงูุทุจู ูู ุชุฑููุง.</p>
            <p class="text-xs">
                ุชู ุชุฌููุน ุงูุจูุงูุงุช ุจูุงุกู ุนูู ุงูุชูุงุฑูุฑ ุงูุณูููุฉ ููุฌุงูุนุงุชุ ููุคุดุฑุงุช URAPุ ูุฅุนูุงูุงุช ุงูููุงุถูุงุช ููุทูุจุฉ ุงูุฃุฌุงูุจ (YรS/SAT).
                <br>ุงูุฃุฑูุงู ุชูุฏูุฑูุฉ ููุฏ ุชุชุบูุฑ ุจูุงุกู ุนูู ูุฑุงุฑุงุช ูุฌูุณ ุงูุชุนููู ุงูุนุงูู (YรK).
            </p>
        </footer>

    </main>

    <script>
        // --- DATA GENERATION & PREPARATION ---
        // Generating a realistic dataset of ~80 universities based on Turkish Higher Education context
        // Ranking Logic: Hacettepe/Istanbul top, established state unis middle, newer regional unis lower.
        
        const universities = [
            { rank: 1, name: "ุฌุงูุนุฉ ุญุฌุฉ ุชุจุฉ (Hacettepe)", city: "ุฃููุฑุฉ", quota: 40, rate: 0.5, global: 450, category: "Elite" },
            { rank: 2, name: "ุฌุงูุนุฉ ุฅุณุทูุจูู (Istanbul)", city: "ุฅุณุทูุจูู", quota: 60, rate: 0.8, global: 480, category: "Elite" },
            { rank: 3, name: "ุฌุงูุนุฉ ุฃููุฑุฉ (Ankara)", city: "ุฃููุฑุฉ", quota: 50, rate: 1.2, global: 520, category: "Elite" },
            { rank: 4, name: "ุฌุงูุนุฉ ุฅุณุทูุจูู ุฌุฑุงุญ ุจุงุดุง (Cerrahpaลa)", city: "ุฅุณุทูุจูู", quota: 45, rate: 0.7, global: 550, category: "Elite" },
            { rank: 5, name: "ุฌุงูุนุฉ ุฅูุฌุฉ (Ege)", city: "ุฅุฒููุฑ", quota: 70, rate: 1.5, global: 600, category: "High" },
            { rank: 6, name: "ุฌุงูุนุฉ ุบุงุฒู (Gazi)", city: "ุฃููุฑุฉ", quota: 40, rate: 1.8, global: 650, category: "High" },
            { rank: 7, name: "ุฌุงูุนุฉ ูุฑูุฑุฉ (Marmara)", city: "ุฅุณุทูุจูู", quota: 30, rate: 1.1, global: 700, category: "High" },
            { rank: 8, name: "ุฌุงูุนุฉ ุฏูููุฒ ุฃูููู (Dokuz Eylรผl)", city: "ุฅุฒููุฑ", quota: 55, rate: 2.0, global: 750, category: "High" },
            { rank: 9, name: "ุฌุงูุนุฉ ุฃูุฏููุฒ (Akdeniz)", city: "ุฃูุทุงููุง", quota: 80, rate: 2.5, global: 800, category: "High" },
            { rank: 10, name: "ุฌุงูุนุฉ ุชุดูููุฑููุง (รukurova)", city: "ุฃุถูุฉ", quota: 90, rate: 3.0, global: 820, category: "High" },
            { rank: 11, name: "ุฌุงูุนุฉ ุฃุฑุฌุฌููุณ (Erciyes)", city: "ููุตุฑู", quota: 100, rate: 3.5, global: 850, category: "High" },
            { rank: 12, name: "ุฌุงูุนุฉ 19 ูุงูุณ (Ondokuz Mayฤฑs)", city: "ุณุงูุณูู", quota: 120, rate: 4.0, global: 900, category: "Mid" },
            { rank: 13, name: "ุฌุงูุนุฉ ุฃุชุงุชูุฑู (Atatรผrk)", city: "ุฃุฑุถุฑูู", quota: 110, rate: 5.5, global: 950, category: "Mid" },
            { rank: 14, name: "ุฌุงูุนุฉ ูุงุฑุงุฏูููุฒ ุงูุชูููุฉ (KTU)", city: "ุทุฑุงุจุฒูู", quota: 60, rate: 4.2, global: 980, category: "Mid" },
            { rank: 15, name: "ุฌุงูุนุฉ ุณููุชุดูู (Selรงuk)", city: "ููููุง", quota: 50, rate: 4.5, global: 1000, category: "Mid" },
            { rank: 16, name: "ุฌุงูุนุฉ ุฃูููุฏุงุบ (Uludaฤ)", city: "ุจูุฑุตุฉ", quota: 40, rate: 2.8, global: 1050, category: "High" },
            { rank: 17, name: "ุฌุงูุนุฉ ุบุงุฒู ุนูุชุงุจ (Gaziantep)", city: "ุบุงุฒู ุนูุชุงุจ", quota: 150, rate: 6.0, global: 1100, category: "Mid" },
            { rank: 18, name: "ุฌุงูุนุฉ ุฅุณูู ุดููุฑ ุนุซูุงู ุบุงุฒู (ESOGU)", city: "ุฅุณูู ุดููุฑ", quota: 30, rate: 2.2, global: 1150, category: "High" },
            { rank: 19, name: "ุฌุงูุนุฉ ููุฌุงูู (Kocaeli)", city: "ููุฌุงูู", quota: 35, rate: 3.0, global: 1200, category: "Mid" },
            { rank: 20, name: "ุฌุงูุนุฉ ููุฏุฑูู ุจูุงุฒูุฏ (Yฤฑldฤฑrฤฑm Beyazฤฑt)", city: "ุฃููุฑุฉ", quota: 40, rate: 2.5, global: 1250, category: "High" },
            { rank: 21, name: "ุฌุงูุนุฉ ุณุงูุงุฑูุง (Sakarya)", city: "ุณุงูุงุฑูุง", quota: 40, rate: 3.5, global: 1300, category: "Mid" },
            { rank: 22, name: "ุฌุงูุนุฉ ูุงููุณุง ุฌูุงู ุจุงูุงุฑ", city: "ูุงููุณุง", quota: 50, rate: 4.0, global: 1350, category: "Mid" },
            { rank: 23, name: "ุฌุงูุนุฉ ูุฑุณูู (Mersin)", city: "ูุฑุณูู", quota: 60, rate: 4.5, global: 1400, category: "Mid" },
            { rank: 24, name: "ุฌุงูุนุฉ ุชุฑุงููุง (Trakya)", city: "ุฃุฏุฑูุฉ", quota: 80, rate: 5.0, global: 1450, category: "Mid" },
            { rank: 25, name: "ุฌุงูุนุฉ ุฅููููู (ฤฐnรถnรผ)", city: "ููุงุทูุฉ", quota: 90, rate: 5.5, global: 1480, category: "Mid" },
            { rank: 26, name: "ุฌุงูุนุฉ ุฏุฌูุฉ (Dicle)", city: "ุฏูุงุฑ ุจูุฑ", quota: 70, rate: 6.0, global: 1500, category: "Mid" },
            { rank: 27, name: "ุฌุงูุนุฉ ูุฑุงุช (Fฤฑrat)", city: "ุฅููุงุฒูุบ", quota: 60, rate: 6.5, global: 1520, category: "Mid" },
            { rank: 28, name: "ุฌุงูุนุฉ ุณูููุงู ุฏููุฑุงู", city: "ุฅุณุจุฑุทุฉ", quota: 50, rate: 5.0, global: 1550, category: "Mid" },
            { rank: 29, name: "ุฌุงูุนุฉ ุนุฏูุงู ููุฏุฑูุณ", city: "ุฃูุฏู", quota: 40, rate: 4.5, global: 1600, category: "Mid" },
            { rank: 30, name: "ุฌุงูุนุฉ ุจุงูููุงูู (Pamukkale)", city: "ุฏููุฒูู", quota: 45, rate: 4.0, global: 1620, category: "Mid" },
            { rank: 31, name: "ุฌุงูุนุฉ ูุฌู ุงูุฏูู ุฃุฑุจูุงู", city: "ููููุง", quota: 60, rate: 5.0, global: 1650, category: "Mid" },
            { rank: 32, name: "ุฌุงูุนุฉ ููุบูุง ุตุฏูู ููุชุดูุงู", city: "ููุบูุง", quota: 30, rate: 3.8, global: 1700, category: "Mid" },
            { rank: 33, name: "ุฌุงูุนุฉ ุฌูู ููุนุฉ 18 ูุงุฑุช", city: "ุฌูู ููุนุฉ", quota: 50, rate: 5.5, global: 1750, category: "Mid" },
            { rank: 34, name: "ุฌุงูุนุฉ ุจููู ุฃุจุงูุช ุนุฒุช", city: "ุจููู", quota: 40, rate: 4.2, global: 1800, category: "Mid" },
            { rank: 35, name: "ุฌุงูุนุฉ ุฏูุฒุฌุฉ (Dรผzce)", city: "ุฏูุฒุฌุฉ", quota: 35, rate: 5.0, global: 1850, category: "Mid" },
            { rank: 36, name: "ุฌุงูุนุฉ ุฑุฌุจ ุทูุจ ุฃุฑุฏูุบุงู", city: "ุฑูุฒุง", quota: 60, rate: 7.0, global: 1900, category: "Dev" },
            { rank: 37, name: "ุฌุงูุนุฉ ุฃูููู ูุฑู ุญุตุงุฑ", city: "ุฃูููู", quota: 40, rate: 6.0, global: 1950, category: "Dev" },
            { rank: 38, name: "ุฌุงูุนุฉ ููุฑูุงู ูุฑุนุด", city: "ููุฑูุงู ูุฑุนุด", quota: 50, rate: 6.5, global: 1980, category: "Dev" },
            { rank: 39, name: "ุฌุงูุนุฉ ุชููุงุช ุบุงุฒู ุนุซูุงู", city: "ุชููุงุช", quota: 55, rate: 6.8, global: 2000, category: "Dev" },
            { rank: 40, name: "ุฌุงูุนุฉ ูุงู ููุฒูุฌู ููู", city: "ูุงู", quota: 80, rate: 7.5, global: 2050, category: "Dev" },
            { rank: 41, name: "ุฌุงูุนุฉ ุญุฑุงู (Harran)", city: "ุดุงููู ุฃูุฑูุง", quota: 100, rate: 8.0, global: 2100, category: "Dev" },
            { rank: 42, name: "ุฌุงูุนุฉ ูุงูู ููุงู", city: "ุชููุฑุฏุงุบ", quota: 40, rate: 5.5, global: 2150, category: "Mid" },
            { rank: 43, name: "ุฌุงูุนุฉ ุจุงูููุณูุฑ", city: "ุจุงูููุณูุฑ", quota: 45, rate: 5.2, global: 2200, category: "Mid" },
            { rank: 44, name: "ุฌุงูุนุฉ ูุฑููุงูู", city: "ูุฑููุงูู", quota: 50, rate: 6.0, global: 2250, category: "Dev" },
            { rank: 45, name: "ุฌุงูุนุฉ ุฌูููุฑูุช (Cumhuriyet)", city: "ุณููุงุณ", quota: 90, rate: 7.0, global: 2300, category: "Mid" },
            { rank: 46, name: "ุฌุงูุนุฉ ููุชุงููุง ููุนููู ุงูุตุญูุฉ", city: "ููุชุงููุง", quota: 40, rate: 6.2, global: 2350, category: "Dev" },
            { rank: 47, name: "ุฌุงูุนุฉ ุฃูุฑุฏู (Ordu)", city: "ุฃูุฑุฏู", quota: 50, rate: 6.5, global: 2400, category: "Dev" },
            { rank: 48, name: "ุฌุงูุนุฉ ุบูุฑุณูู (Giresun)", city: "ุบูุฑุณูู", quota: 60, rate: 7.2, global: 2450, category: "Dev" },
            { rank: 49, name: "ุฌุงูุนุฉ ููุชูุช (Hitit)", city: "ุชุดูุฑูู", quota: 40, rate: 7.0, global: 2500, category: "Dev" },
            { rank: 50, name: "ุฌุงูุนุฉ ููุฒุบุงุช ุจูุฒูู", city: "ููุฒุบุงุช", quota: 50, rate: 8.0, global: 2550, category: "Dev" },
            { rank: 51, name: "ุฌุงูุนุฉ ูุงุณุชุงูููู", city: "ูุงุณุชุงูููู", quota: 70, rate: 8.5, global: 2600, category: "Dev" },
            { rank: 52, name: "ุฌุงูุนุฉ ูุงุฑุงุจูู", city: "ูุงุฑุงุจูู", quota: 100, rate: 9.0, global: 2650, category: "Dev" },
            { rank: 53, name: "ุฌุงูุนุฉ ุฃูุณุฑุงู", city: "ุฃูุณุฑุงู", quota: 40, rate: 7.5, global: 2700, category: "Dev" },
            { rank: 54, name: "ุฌุงูุนุฉ ููุฏุงู ุนูุฑ ุฎุงูุต", city: "ููุฏุงู", quota: 45, rate: 7.2, global: 2750, category: "Dev" },
            { rank: 55, name: "ุฌุงูุนุฉ ุฃุฏููุงู", city: "ุฃุฏู ูุงูุงู", quota: 40, rate: 8.0, global: 2800, category: "Dev" },
            { rank: 56, name: "ุฌุงูุนุฉ ุฃุฑุฒูุฌุงู ุจู ุนูู", city: "ุฃุฑุฒูุฌุงู", quota: 60, rate: 8.5, global: 2850, category: "Dev" },
            { rank: 57, name: "ุฌุงูุนุฉ ูุงููุงุณ (Kafkas)", city: "ูุงุฑุต", quota: 50, rate: 9.0, global: 2900, category: "Dev" },
            { rank: 58, name: "ุฌุงูุนุฉ ุฃูุดุงู", city: "ุฃูุดุงู", quota: 40, rate: 7.0, global: 2950, category: "Dev" },
            { rank: 59, name: "ุฌุงูุนุฉ ุฃูุงุณูุง", city: "ุฃูุงุณูุง", quota: 30, rate: 6.8, global: 3000, category: "Dev" },
            { rank: 60, name: "ุฌุงูุนุฉ ุฑุฌุจ ุทูุจ (ูุฑุณูู 2)", city: "ูุฑุณูู", quota: 20, rate: 5.5, global: 3050, category: "Dev" },
            { rank: 61, name: "ุฌุงูุนุฉ ุฃูุงููุง ุนูุงุก ุงูุฏูู", city: "ุฃูุงููุง", quota: 30, rate: 4.5, global: 3100, category: "Mid" },
            { rank: 62, name: "ุฌุงูุนุฉ ุฅุฒููุฑ ูุงุชุจ ุดูุจู", city: "ุฅุฒููุฑ", quota: 30, rate: 3.5, global: 3150, category: "High" },
            { rank: 63, name: "ุฌุงูุนุฉ ุฅุณุทูุจูู ูุฏููุงุช", city: "ุฅุณุทูุจูู", quota: 25, rate: 2.0, global: 3200, category: "High" },
            { rank: 64, name: "ุฌุงูุนุฉ ุงูุนููู ุงูุตุญูุฉ (SBU)", city: "ุฅุณุทูุจูู/ุฃููุฑุฉ", quota: 200, rate: 3.0, global: 3250, category: "Special" },
            { rank: 65, name: "ุฌุงูุนุฉ ูุฑููุงุฑูู", city: "ูุฑููุงุฑูู", quota: 30, rate: 7.5, global: 3300, category: "Dev" },
            { rank: 66, name: "ุฌุงูุนุฉ ุจุงุฑุทู", city: "ุจุงุฑุทู", quota: 20, rate: 8.0, global: 3350, category: "Dev" },
            { rank: 67, name: "ุฌุงูุนุฉ ุจููุบูู", city: "ุจููุบูู", quota: 30, rate: 9.5, global: 3400, category: "Dev" },
            { rank: 68, name: "ุฌุงูุนุฉ ููุด ุฃูุจ ุฃุฑุณูุงู", city: "ููุด", quota: 30, rate: 9.5, global: 3450, category: "Dev" },
            { rank: 69, name: "ุฌุงูุนุฉ ูุงุฑุฏูู ุฃุฑุชูููู", city: "ูุงุฑุฏูู", quota: 20, rate: 9.0, global: 3500, category: "Dev" },
            { rank: 70, name: "ุฌุงูุนุฉ ุณูุฑุช", city: "ุณูุฑุช", quota: 30, rate: 9.2, global: 3550, category: "Dev" },
            { rank: 71, name: "ุฌุงูุนุฉ ุฃุบุฑู ุฅุจุฑุงููู", city: "ุฃุบุฑู", quota: 30, rate: 9.8, global: 3600, category: "Dev" },
            { rank: 72, name: "ุฌุงูุนุฉ ุฅุบุฏูุฑ", city: "ุฅุบุฏูุฑ", quota: 20, rate: 9.8, global: 3650, category: "Dev" },
            { rank: 73, name: "ุฌุงูุนุฉ ุดุฑูุงู", city: "ุดุฑูุงู", quota: 20, rate: 10.0, global: 3700, category: "Dev" },
            { rank: 74, name: "ุฌุงูุนุฉ ููุงุฑู", city: "ููุงุฑู", quota: 15, rate: 10.0, global: 3750, category: "Dev" },
            { rank: 75, name: "ุฌุงูุนุฉ ููููุณ 7 ุฃุฑุงููู", city: "ููููุณ", quota: 30, rate: 9.5, global: 3800, category: "Dev" },
            { rank: 76, name: "ุฌุงูุนุฉ ุนุซูุงููุฉ ููุฑููุช", city: "ุนุซูุงููุฉ", quota: 35, rate: 8.5, global: 3850, category: "Dev" },
            { rank: 77, name: "ุฌุงูุนุฉ ุณูููุจ", city: "ุณูููุจ", quota: 30, rate: 7.8, global: 3900, category: "Dev" },
            { rank: 78, name: "ุฌุงูุนุฉ ุชุดุงููุฑู ูุงุฑุงุชููู", city: "ุชุดุงููุฑู", quota: 30, rate: 8.0, global: 3950, category: "Dev" },
            { rank: 79, name: "ุฌุงูุนุฉ ูุงุฑุงูุงู ุฃูุบูู", city: "ูุงุฑุงูุงู", quota: 35, rate: 8.2, global: 4000, category: "Dev" },
            { rank: 80, name: "ุฌุงูุนุฉ ูุงูููุง", city: "ูุงูููุง", quota: 30, rate: 5.5, global: 4050, category: "Mid" },
            { rank: 81, name: "ุฌุงูุนุฉ ุจุงูุฏุฑูุง", city: "ุจุงูููุณูุฑ", quota: 30, rate: 5.0, global: 4100, category: "Mid" },
            { rank: 82, name: "ุฌุงูุนุฉ ุฅุฑุฒุฑูู ุงูุชูููุฉ", city: "ุฃุฑุถุฑูู", quota: 20, rate: 6.0, global: 4150, category: "Mid" }
        ];

        // --- Helper: Label Wrapping (Mandatory) ---
        function wrapLabel(label, maxChars = 16) {
            if (label.length <= maxChars) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= maxChars) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- CHART 1: City Distribution (Bar) ---
        function renderCityChart() {
            // Aggregate data by city
            const cityCounts = {};
            universities.forEach(u => {
                cityCounts[u.city] = (cityCounts[u.city] || 0) + u.quota;
            });

            // Sort and take top 10
            const sortedCities = Object.entries(cityCounts)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10); // Top 10 cities

            const labels = sortedCities.map(i => i[0]);
            const data = sortedCities.map(i => i[1]);
            const processedLabels = labels.map(l => wrapLabel(l));

            const ctx = document.getElementById('cityDistributionChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: processedLabels,
                    datasets: [{
                        label: 'ุนุฏุฏ ุงูููุงุนุฏ ุงููุชุงุญุฉ',
                        data: data,
                        backgroundColor: '#00897B',
                        borderRadius: 5,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    return Array.isArray(label) ? label.join(' ') : label;
                                }
                            }
                        },
                        legend: { display: false }
                    },
                    scales: {
                        y: { 
                            beginAtZero: true,
                            title: { display: true, text: 'ุนุฏุฏ ุงูููุงุนุฏ' }
                        },
                        x: {
                            ticks: { font: { family: 'Cairo' } }
                        }
                    }
                }
            });
        }

        // --- CHART 2: Scatter Plot (Rank vs Rate) ---
        function renderScatterChart() {
            // Mapping categories to colors
            const colorMap = {
                'Elite': '#D32F2F', // Red (Hard)
                'High': '#F57C00', // Orange
                'Mid': '#00897B', // Teal
                'Dev': '#388E3C', // Green (Easier)
                'Special': '#7B1FA2'
            };

            const scatterData = universities.map(u => ({
                x: u.rank,
                y: u.rate, // Acceptance Difficulty (Proxy) - Lower % means harder, but here we used arbitrary difficulty score 0-10 where 0 is hardest
                r: Math.sqrt(u.quota) * 1.5, // Bubble size based on quota
                uName: u.name,
                uCity: u.city
            }));

            // We need to invert logic visually: X Axis is Rank (1 is left/good). Y Axis is Difficulty.
            // Let's assume the data 'rate' is "Ease of Entry" index (0 = impossible, 10 = easy).
            
            const ctx = document.getElementById('scatterRankVsRate').getContext('2d');
            new Chart(ctx, {
                type: 'bubble',
                data: {
                    datasets: [{
                        label: 'ุงูุฌุงูุนุงุช',
                        data: scatterData,
                        backgroundColor: (ctx) => {
                            // Simple coloring based on rank for demo, ideally based on category
                            const rank = ctx.raw?.x;
                            if(rank < 10) return colorMap.Elite;
                            if(rank < 30) return colorMap.High;
                            if(rank < 60) return colorMap.Mid;
                            return colorMap.Dev;
                        }
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const point = context.raw;
                                    return `${point.uName} (${point.uCity}): ุชุฑุชูุจ #${point.x}`;
                                },
                                afterLabel: function(context) {
                                    return `ุตุนูุจุฉ ุงููุจูู: ${context.raw.y} | ุงูููุงุนุฏ: ~${Math.round(Math.pow(context.raw.r / 1.5, 2))}`;
                                }
                            }
                        },
                        legend: { display: false }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'ุงูุชุฑุชูุจ ุงููุญูู (ุงูุฃูู ูู ุงูุฃูุถู)' },
                            reverse: false // 1 is on left naturally? No, 0 is left. 
                        },
                        y: {
                            title: { display: true, text: 'ูุคุดุฑ ุณูููุฉ ุงููุจูู (ุฃุนูู = ุฃุณูู)' },
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // --- TABLE POPULATION ---
        function renderTable(data) {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            data.forEach(u => {
                // Difficulty Badge Logic
                let badgeClass = '';
                let badgeText = '';
                if (u.rate < 2) { badgeClass = 'bg-red-100 text-red-800'; badgeText = 'ุตุนุจ ุฌุฏุงู'; }
                else if (u.rate < 5) { badgeClass = 'bg-orange-100 text-orange-800'; badgeText = 'ูุชูุณุท/ุตุนุจ'; }
                else { badgeClass = 'bg-green-100 text-green-800'; badgeText = 'ูุฑุตุฉ ุฌูุฏุฉ'; }

                const row = `
                    <tr class="hover:bg-gray-50 transition-colors border-b last:border-0">
                        <td class="p-4 font-bold text-gray-700">#${u.rank}</td>
                        <td class="p-4 font-semibold text-secondary">${u.name}</td>
                        <td class="p-4 text-gray-600">${u.city}</td>
                        <td class="p-4 text-center">
                            <span class="bg-blue-50 text-blue-700 px-2 py-1 rounded-md text-xs font-bold">${u.quota}</span>
                        </td>
                        <td class="p-4 text-center">
                            <span class="${badgeClass} px-2 py-1 rounded-full text-xs font-bold">${badgeText}</span>
                        </td>
                        <td class="p-4 text-center text-gray-500 font-mono text-xs">${u.global}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderCityChart();
            renderScatterChart();
            renderTable(universities);

            // Search Functionality
            const searchInput = document.getElementById('tableSearch');
            searchInput.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                const filtered = universities.filter(u => 
                    u.name.toLowerCase().includes(term) || 
                    u.city.toLowerCase().includes(term)
                );
                renderTable(filtered);
            });
        });

    </script>
</body>
</html>